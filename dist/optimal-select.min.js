!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.OptimalSelect=e():t.OptimalSelect=e()}(this,function(){return function(t){function e(n){if(r[n])return r[n].exports;var u=r[n]={exports:{},id:n,loaded:!1};return t[n].call(u.exports,u,u.exports,e),u.loaded=!0,u.exports}var r={};return e.m=t,e.c=r,e.p="",e(0)}([function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.optimize=e.select=void 0;var u=r(4),i=n(u),o=r(2),a=n(o);e.select=i.default,e.optimize=a.default,e.default=i.default},function(t,e){(function(r){"use strict";function n(t){return Array.isArray(t)?t:Array.from(t)}function u(t,e){if(r.document)return!1;var u=e.context;r.document=u||function(){for(var e=t;e.parent;)e=e.parent;return e}();var a=Object.getPrototypeOf(r.document);return Object.getOwnPropertyDescriptor(a,"childTags")||Object.defineProperty(a,"childTags",{enumerable:!0,get:function(){return this.children.filter(function(t){return"tag"===t.type||"script"===t.type||"style"===t.type})}}),Object.getOwnPropertyDescriptor(a,"attributes")||Object.defineProperty(a,"attributes",{enumerable:!0,get:function(){var t=this.attribs,e=Object.keys(t),r=e.reduce(function(e,r,n){return e[n]={name:r,value:t[r]},e},{});return Object.defineProperty(r,"length",{enumerable:!1,configurable:!1,value:e.length}),r}}),a.getAttribute||(a.getAttribute=function(t){return this.attribs[t]||null}),a.getElementsByTagName||(a.getElementsByTagName=function(t){var e=[];return o(this.childTags,function(r){r.name!==t&&"*"!==t||e.push(r)}),e}),a.getElementsByClassName||(a.getElementsByClassName=function(t){var e=t.trim().replace(/\s+/g," ").split(" "),r=[];return o([this],function(t){var n=t.attribs.class;n&&e.every(function(t){return n.indexOf(t)>-1})&&r.push(t)}),r}),a.querySelectorAll||(a.querySelectorAll=function(t){var e=this;t=t.replace(/(>)(\S)/g,"$1 $2").trim();var r=i(t),u=n(r),o=u[0],a=u.slice(1),l=a.length;return o(this).filter(function(t){for(var r=0;r<l;){if(t=a[r](t,e),!t)return!1;r+=1}return!0})}),a.contains||(a.contains=function(t){var e=!1;return o([this],function(r,n){r===t&&(e=!0,n())}),e}),!0}function i(t){return t.split(" ").reverse().map(function(t,e){var r=0===e,n=t.split(":"),u=l(n,2),i=u[0],c=u[1],f=null,s=null;switch(!0){case/>/.test(i):s=function(t){return function(e){return e(t.parent)&&t.parent}};break;case/^\./.test(i):var p=i.substr(1).split(".");f=function(t){var e=t.attribs.class;return e&&p.every(function(t){return e.indexOf(t)>-1})},s=function(t,e){return r?t.getElementsByClassName(p.join(" ")):"function"==typeof t?t(f):a(t,e,f)};break;case/^\[/.test(i):var d=i.replace(/\[|\]|"/g,"").split("="),g=l(d,2),h=g[0],v=g[1];f=function(t){var e=Object.keys(t.attribs).indexOf(h)>-1;return!(!e||v&&t.attribs[h]!==v)},s=function(t,e){if(r){var n=[];return o([t],function(t){f(t)&&n.push(t)}),n}return"function"==typeof t?t(f):a(t,e,f)};break;case/^#/.test(i):var y=i.substr(1);f=function(t){return t.attribs.id===y},s=function(t,e){if(r){var n=[];return o([t],function(t,e){f(t)&&(n.push(t),e())}),n}return"function"==typeof t?t(f):a(t,e,f)};break;case/\*/.test(i):f=function(t){return!0},s=function(t,e){if(r){var n=[];return o([t],function(t){return n.push(t)}),n}return"function"==typeof t?t(f):a(t,e,f)};break;default:f=function(t){return t.name===i},s=function(t,e){if(r){var n=[];return o([t],function(t){f(t)&&n.push(t)}),n}return"function"==typeof t?t(f):a(t,e,f)}}if(!c)return s;var m=c.match(/-(child|type)\((\d+)\)$/),b=m[1],S=parseInt(m[2],10)-1,j=function(t){if(t){var e=t.parent.childTags;"type"===b&&(e=e.filter(f));var r=e.findIndex(function(e){return e===t});if(r===S)return!0}return!1};return function(t){var e=s(t);return r?e.reduce(function(t,e){return j(e)&&t.push(e),t},[]):j(e)&&e}})}function o(t,e){t.forEach(function(t){var r=!0;e(t,function(){return r=!1}),t.childTags&&r&&o(t.childTags,e)})}function a(t,e,r){for(;t.parent;){if(t=t.parent,r(t))return t;if(t===e)break}return null}Object.defineProperty(e,"__esModule",{value:!0});var l=function(){function t(t,e){var r=[],n=!0,u=!1,i=void 0;try{for(var o,a=t[Symbol.iterator]();!(n=(o=a.next()).done)&&(r.push(o.value),!e||r.length!==e);n=!0);}catch(t){u=!0,i=t}finally{try{!n&&a.return&&a.return()}finally{if(u)throw i}}return r}return function(e,r){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();e.default=u,t.exports=e.default}).call(e,function(){return this}())},function(t,e,r){(function(n){"use strict";function u(t){return t&&t.__esModule?t:{default:t}}function i(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},u=(0,l.default)(e,r),i=t.replace(/> /g,">").split(/\s+(?=(?:(?:[^"]*"){2})*[^"]*$)/);if(i.length<3)return t;for(var a=[i.pop()];i.length>1;){var c=i.pop(),f=i.join(" "),s=a.join(" "),p=f+" "+s,d=document.querySelectorAll(p);1!==d.length&&a.unshift(o(f,c,s,e))}return a.unshift(i[0]),i=a,i[0]=o("",i[0],i.slice(1).join(" "),e),i[i.length-1]=o(i.slice(0,-1).join(" "),i[i.length-1],"",e),u&&delete n.document,i.join(" ").replace(/>/g,"> ").trim()}function o(t,e,r,n){if(t.length&&(t+=" "),r.length&&(r=" "+r),/\[*\]/.test(e)){var u=e.replace(/=.*$/,"]"),i=""+t+u+r,o=document.querySelectorAll(i);if(1===o.length&&o[0]===n)e=u;else for(var a=document.querySelectorAll(""+t+u),l=0,c=a.length;l<c;l++)if(a[l].contains(n)){var f=a[l].tagName.toLowerCase(),i=""+t+f+r,o=document.querySelectorAll(i);1===o.length&&o[0]===n&&(e=f);break}}if(/>/.test(e)){var s=e.replace(/>/,""),i=""+t+s+r,o=document.querySelectorAll(i);1===o.length&&o[0]===n&&(e=s)}if(/:nth-child/.test(e)){var p=e.replace(/nth-child/g,"nth-of-type"),i=""+t+p+r,o=document.querySelectorAll(i);1===o.length&&o[0]===n&&(e=p)}if(/\.\S+\.\S+/.test(e)){for(var d=e.trim().split(".").slice(1).map(function(t){return"."+t}).sort(function(t,e){return t.length-e.length});d.length;){var g=e.replace(d.shift(),""),i=""+t+g+r,o=document.querySelectorAll(i);1===o.length&&o[0]===n&&(e=g)}if(e&&e.match(/\./g).length>2)for(var h=document.querySelectorAll(""+t+e),l=0,c=h.length;l<c;l++)if(h[l].contains(n)){var v=h[l].tagName.toLowerCase(),i=""+t+v+r,o=document.querySelectorAll(i);1===o.length&&o[0]===n&&(e=v);break}}return e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var a=r(1),l=u(a);t.exports=e.default}).call(e,function(){return this}())},function(t,e){"use strict";function r(t){return 0===t.indexOf("data-")?-1:"aria-label"===t?-1:"href"===t?1:"src"===t?2:"alt"===t||"title"===t?3:0}function n(t,e){var r=[],n=t,g=r.length,h=e.root,v=void 0===h?document:h,y=e.skip,m=void 0===y?null:y,b=e.ignore,S=void 0===b?{}:b,j=m&&(Array.isArray(m)?m:[m]).map(function(t){return"function"!=typeof t?function(e){return e===t}:t}),O=function(t){return m&&j.some(function(e){return e(t)})},A=!1;if(Object.keys(S).forEach(function(t){"class"===t&&(A=!0);var e=S[t];"boolean"!=typeof e&&"function"!=typeof e&&("number"==typeof e&&(e=e.toString()),"string"==typeof e&&(e=new RegExp(e)),S[t]=e.test.bind(e))}),A){var N=S.attribute;S.attribute=function(t,e,r){return S.class(e)||N&&N(t,e,r)}}for(;n!==v;){if(O(n)!==!0){if(d(n,r,S))break;if(a(n,r,S,v))break;if(u(n,r,S,v))break;if(f(n,r,S,v))break;l(n,r,S),r.length===g&&i(n,r,S),r.length===g&&s(n,r,S),S.childSelector!==!0&&(r.length===g&&o(n,r,S),r.length===g&&c(n,r,S),r.length===g&&p(n,r,S))}if(n===t&&0===r.length){var x=n.tagName.toLowerCase(),k=n.getAttribute("class");k&&(x+="."+k.trim().replace(/\s+/g,".")),r.unshift(x)}n=n.parentNode,g=r.length}return r.join(" ")}function u(t,e,r,n){return g(t,e,r,n)}function i(t,e,r){return g(t,e,r,t.parentNode)}function o(t,e,r){var n=t.getAttribute("class");return!m(r.class,n)&&y(t,e,"."+n.trim().replace(/\s+/g,"."))}function a(t,e,r,n){return h(t,e,r,n)}function l(t,e,r){return h(t,e,r,t.parentNode)}function c(t,e,n){var u=t.attributes;return Object.keys(u).sort(function(t,e){var n=u[t].name,i=u[e].name;return r(n)-r(i)}).some(function(r){var i=u[r],o=i.name,a=i.value.replace(/"/g,"");if(m(n.attribute,o,a,b.attribute))return!1;var l="["+o+'="'+a+'"]';return y(t,e,l)})}function f(t,e,r,n){return v(t,e,r,n)}function s(t,e,r){return v(t,e,r,t.parentNode)}function p(t,e,r){var n=t.tagName.toLowerCase();return!m(r.tag,n)&&y(t,e,n)}function d(t,e,r){var n=t.getAttribute("id");return!m(r.id,n)&&(e.unshift("#"+n),!0)}function g(t,e,r,n){var u=t.getAttribute("class");if(m(r.class,u))return!1;var i=n.getElementsByClassName(u);return 1===i.length&&(e.unshift("."+u.trim().replace(/\s+/g,".")),!0)}function h(t,e,n,u){var i=t.attributes;return Object.keys(i).sort(function(t,e){var n=i[t].name,u=i[e].name;return r(n)-r(u)}).some(function(t){var r=i[t],o=r.name,a=r.value.replace(/"/g,"");if(m(n.attribute,o,a,b.attribute))return!1;var l="["+o+'="'+a+'"]',c=u.querySelectorAll(l);return 1===c.length?(e.unshift(l),!0):void 0})}function v(t,e,r,n){var u=t.tagName.toLowerCase();if(m(r.tag,u))return!1;var i=n.getElementsByTagName(u);return 1===i.length&&(e.unshift(u),!0)}function y(t,e,r){for(var n=t.parentNode,u=n.childTags||n.children,i=0,o=u.length;i<o;i++)if(u[i]===t)return e.unshift("> "+r+":nth-child("+(i+1)+")"),!0;return!1}function m(t,e,r,n){if(!e)return!0;var u=t||n;return!!u&&u(e,r||e,n)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;var b={attribute:function(t){return["style","data-reactid","data-react-checksum"].indexOf(t)>-1}};t.exports=e.default},function(t,e,r){(function(t){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function u(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Array.isArray(t)?o(t,e):i(t,e)}function i(e,r){if(3===e.nodeType)return i(e.parentNode);if(1!==e.nodeType)throw new Error('Invalid input - only HTMLElements or representations of them are supported! (not "'+("undefined"==typeof e?"undefined":a(e))+'")');var n=(0,c.default)(e,r),u=(0,s.default)(e,r),o=(0,d.default)(u,e,r);return n&&delete t.document,o}function o(t,e){for(var r=null,n=null,u=null,o=null,a=0,l=t.length;a<l;a++){var c=t[a];if(r){if(r!==c.parentNode)return console.log("Can't be efficiently mapped. It probably best to use multiple single selectors instead!")}else r=c.parentNode,n=c.className,o=c.tagName;if(c.className!==n){var f,s,p=[];c.className.length>n.length?(f=c.className,s=n):(f=n,s=c.className),s.split(" ").forEach(function(t){f.indexOf(t)>-1&&p.push(t)}),n=p.join(" ")}c.tagName!==o&&(o=null)}var d=i(r,e);return console.log(d,n,u,o),n?d+" > ."+n.replace(/ /g,"."):o?d+" > "+o.toLowerCase():d+" > *"}Object.defineProperty(e,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.default=u,e.getSingleSelector=i,e.getMultiSelector=o;var l=r(1),c=n(l),f=r(3),s=n(f),p=r(2),d=n(p)}).call(e,function(){return this}())}])});
//# sourceMappingURL=optimal-select.min.js.map