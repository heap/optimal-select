!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.OptimalSelect=e():t.OptimalSelect=e()}(this,function(){return function(t){function e(r){if(n[r])return n[r].exports;var u=n[r]={exports:{},id:r,loaded:!1};return t[r].call(u.exports,u,u.exports,e),u.loaded=!0,u.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.optimize=e.select=void 0;var u=n(4),i=r(u),o=n(2),a=r(o);e.select=i.default,e.optimize=a.default,e.default=i.default},function(t,e){(function(n){"use strict";function r(t){return Array.isArray(t)?t:Array.from(t)}function u(t,e){if(n.document)return!1;var u=e.context;n.document=u||function(){for(var e=t;e.parent;)e=e.parent;return e}();var a=Object.getPrototypeOf(n.document);return Object.getOwnPropertyDescriptor(a,"childTags")||Object.defineProperty(a,"childTags",{enumerable:!0,get:function(){return this.children.filter(function(t){return"tag"===t.type||"script"===t.type||"style"===t.type})}}),Object.getOwnPropertyDescriptor(a,"attributes")||Object.defineProperty(a,"attributes",{enumerable:!0,get:function(){var t=this.attribs,e=Object.keys(t),n=e.reduce(function(e,n,r){return e[r]={name:n,value:t[n]},e},{});return Object.defineProperty(n,"length",{enumerable:!1,configurable:!1,value:e.length}),n}}),a.getAttribute||(a.getAttribute=function(t){return this.attribs[t]||null}),a.getElementsByTagName||(a.getElementsByTagName=function(t){var e=[];return o(this.childTags,function(n){n.name!==t&&"*"!==t||e.push(n)}),e}),a.getElementsByClassName||(a.getElementsByClassName=function(t){var e=t.trim().replace(/\s+/g," ").split(" "),n=[];return o([this],function(t){var r=t.attribs.class;r&&e.every(function(t){return r.indexOf(t)>-1})&&n.push(t)}),n}),a.querySelectorAll||(a.querySelectorAll=function(t){var e=this;t=t.replace(/(>)(\S)/g,"$1 $2").trim();var n=i(t),u=r(n),o=u[0],a=u.slice(1),f=a.length;return o(this).filter(function(t){for(var n=0;n<f;){if(t=a[n](t,e),!t)return!1;n+=1}return!0})}),a.contains||(a.contains=function(t){var e=!1;return o([this],function(n,r){n===t&&(e=!0,r())}),e}),!0}function i(t){return t.split(" ").reverse().map(function(t,e){var n=0===e,r=t.split(":"),u=c(r,2),i=u[0],l=u[1],s=null,d=null;if(function(){switch(!0){case/>/.test(i):d=function(t){return function(e){return e(t.parent)&&t.parent}};break;case/^\./.test(i):var t=i.substr(1).split(".");s=function(e){var n=e.attribs.class;return n&&t.every(function(t){return n.indexOf(t)>-1})},d=function(e,r){return n?e.getElementsByClassName(t.join(" ")):"function"==typeof e?e(s):a(e,r,s)};break;case/^\[/.test(i):var e=i.replace(/\[|\]|"/g,"").split("="),r=c(e,2),u=r[0],l=r[1];s=function(t){var e=Object.keys(t.attribs).indexOf(u)>-1;return!(!e||l&&t.attribs[u]!==l)},d=function(t,e){if(n){var r=function(){var e=[];return o([t],function(t){s(t)&&e.push(t)}),{v:e}}();if("object"===("undefined"==typeof r?"undefined":f(r)))return r.v}return"function"==typeof t?t(s):a(t,e,s)};break;case/^#/.test(i):var p=i.substr(1);s=function(t){return t.attribs.id===p},d=function(t,e){if(n){var r=function(){var e=[];return o([t],function(t,n){s(t)&&(e.push(t),n())}),{v:e}}();if("object"===("undefined"==typeof r?"undefined":f(r)))return r.v}return"function"==typeof t?t(s):a(t,e,s)};break;case/\*/.test(i):s=function(t){return!0},d=function(t,e){if(n){var r=function(){var e=[];return o([t],function(t){return e.push(t)}),{v:e}}();if("object"===("undefined"==typeof r?"undefined":f(r)))return r.v}return"function"==typeof t?t(s):a(t,e,s)};break;default:s=function(t){return t.name===i},d=function(t,e){if(n){var r=function(){var e=[];return o([t],function(t){s(t)&&e.push(t)}),{v:e}}();if("object"===("undefined"==typeof r?"undefined":f(r)))return r.v}return"function"==typeof t?t(s):a(t,e,s)}}}(),!l)return d;var p=l.match(/-(child|type)\((\d+)\)$/),v=p[1],y=parseInt(p[2],10)-1,g=function(t){if(t){var e=t.parent.childTags;"type"===v&&(e=e.filter(s));var n=e.findIndex(function(e){return e===t});if(n===y)return!0}return!1};return function(t){var e=d(t);return n?e.reduce(function(t,e){return g(e)&&t.push(e),t},[]):g(e)&&e}})}function o(t,e){t.forEach(function(t){var n=!0;e(t,function(){return n=!1}),t.childTags&&n&&o(t.childTags,e)})}function a(t,e,n){for(;t.parent;){if(t=t.parent,n(t))return t;if(t===e)break}return null}Object.defineProperty(e,"__esModule",{value:!0});var f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},c=function(){function t(t,e){var n=[],r=!0,u=!1,i=void 0;try{for(var o,a=t[Symbol.iterator]();!(r=(o=a.next()).done)&&(n.push(o.value),!e||n.length!==e);r=!0);}catch(f){u=!0,i=f}finally{try{!r&&a.return&&a.return()}finally{if(u)throw i}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();e.default=u,t.exports=e.default}).call(e,function(){return this}())},function(t,e,n){(function(r){"use strict";function u(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){var n=arguments.length<=2||void 0===arguments[2]?{}:arguments[2],u=(0,f.default)(e,n),i=t.replace(/> /g,">").split(/\s+(?=(?:(?:[^"]*"){2})*[^"]*$)/);if(i.length<3)return t;for(var a=[i.pop()];i.length>1;){var c=i.pop(),l=i.join(" "),s=a.join(" "),d=l+" "+s,p=document.querySelectorAll(d);1!==p.length&&a.unshift(o(l,c,s,e))}return a.unshift(i[0]),i=a,i[0]=o("",i[0],i.slice(1).join(" "),e),i[i.length-1]=o(i.slice(0,-1).join(" "),i[i.length-1],"",e),u&&delete r.document,i.join(" ").replace(/>/g,"> ").trim()}function o(t,e,n,r){if(t.length&&(t+=" "),n.length&&(n=" "+n),/\[*\]/.test(e)){var u=e.replace(/=.*$/,"]"),i=""+t+u+n,o=document.querySelectorAll(i);if(1===o.length&&o[0]===r)e=u;else for(var a=document.querySelectorAll(""+t+u),f=0,c=a.length;f<c;f++)if(a[f].contains(r)){var l=a[f].tagName.toLowerCase(),i=""+t+l+n,o=document.querySelectorAll(i);1===o.length&&o[0]===r&&(e=l);break}}if(/>/.test(e)){var s=e.replace(/>/,""),i=""+t+s+n,o=document.querySelectorAll(i);1===o.length&&o[0]===r&&(e=s)}if(/:nth-child/.test(e)){var d=e.replace(/nth-child/g,"nth-of-type"),i=""+t+d+n,o=document.querySelectorAll(i);1===o.length&&o[0]===r&&(e=d)}if(/\.\S+\.\S+/.test(e)){for(var p=e.trim().split(".").slice(1).map(function(t){return"."+t}).sort(function(t,e){return t.length-e.length});p.length;){var v=e.replace(p.shift(),""),i=""+t+v+n,o=document.querySelectorAll(i);1===o.length&&o[0]===r&&(e=v)}if(e&&e.match(/\./g).length>2)for(var y=document.querySelectorAll(""+t+e),f=0,c=y.length;f<c;f++)if(y[f].contains(r)){var g=y[f].tagName.toLowerCase(),i=""+t+g+n,o=document.querySelectorAll(i);1===o.length&&o[0]===r&&(e=g);break}}return e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var a=n(1),f=u(a);t.exports=e.default}).call(e,function(){return this}())},function(t,e){"use strict";function n(t){return 0===t.indexOf("data-")?-1:"href"===t?1:"src"===t?2:"alt"===t||"title"===t?3:0}function r(t,e){var n=[],r=t,v=n.length,y=e.root,g=void 0===y?document:y,h=e.skip,m=void 0===h?null:h,b=e.ignore,j=void 0===b?{}:b,S=m&&(Array.isArray(m)?m:[m]).map(function(t){return"function"!=typeof t?function(e){return e===t}:t}),O=function(t){return m&&S.some(function(e){return e(t)})},A=!1;for(Object.keys(j).forEach(function(t){"class"===t&&(A=!0);var e=j[t];"boolean"!=typeof e&&"function"!=typeof e&&("number"==typeof e&&(e=e.toString()),"string"==typeof e&&(e=new RegExp(e)),j[t]=e.test.bind(e))}),A&&!function(){var t=j.attribute;j.attribute=function(e,n,r){return j.class(n)||t&&t(e,n,r)}}();r!==g;){if(O(r)!==!0){if(p(r,n,j))break;if(a(r,n,j,g))break;if(u(r,n,j,g))break;if(l(r,n,j,g))break;f(r,n,j),n.length===v&&i(r,n,j),n.length===v&&s(r,n,j),j.childSelector!==!0&&(n.length===v&&o(r,n,j),n.length===v&&c(r,n,j),n.length===v&&d(r,n,j))}if(r===t&&0===n.length){var N=r.tagName.toLowerCase(),x=r.getAttribute("class");x&&(N+="."+x.trim().replace(/\s+/g,".")),n.unshift(N)}r=r.parentNode,v=n.length}return n.join(" ")}function u(t,e,n,r){return v(t,e,n,r)}function i(t,e,n){return v(t,e,n,t.parentNode)}function o(t,e,n){var r=t.getAttribute("class");return!m(n.class,r)&&h(t,e,"."+r.trim().replace(/\s+/g,"."))}function a(t,e,n,r){return y(t,e,n,r)}function f(t,e,n){return y(t,e,n,t.parentNode)}function c(t,e,r){var u=t.attributes;return Object.keys(u).sort(function(t,e){var r=u[t].name,i=u[e].name;return n(r)-n(i)}).some(function(n){var i=u[n],o=i.name,a=i.value.replace(/"/g,"");if(m(r.attribute,o,a,b.attribute))return!1;var f="["+o+'="'+a+'"]';return h(t,e,f)})}function l(t,e,n,r){return g(t,e,n,r)}function s(t,e,n){return g(t,e,n,t.parentNode)}function d(t,e,n){var r=t.tagName.toLowerCase();return!m(n.tag,r)&&h(t,e,r)}function p(t,e,n){var r=t.getAttribute("id");return!m(n.id,r)&&(e.unshift("#"+r),!0)}function v(t,e,n,r){var u=t.getAttribute("class");if(m(n.class,u))return!1;var i=r.getElementsByClassName(u);return 1===i.length&&(e.unshift("."+u.trim().replace(/\s+/g,".")),!0)}function y(t,e,r,u){var i=t.attributes;return Object.keys(i).sort(function(t,e){var r=i[t].name,u=i[e].name;return n(r)-n(u)}).some(function(t){var n=i[t],o=n.name,a=n.value.replace(/"/g,"");if(m(r.attribute,o,a,b.attribute))return!1;var f="["+o+'="'+a+'"]',c=u.querySelectorAll(f);return 1===c.length?(e.unshift(f),!0):void 0})}function g(t,e,n,r){var u=t.tagName.toLowerCase();if(m(n.tag,u))return!1;var i=r.getElementsByTagName(u);return 1===i.length&&(e.unshift(u),!0)}function h(t,e,n){for(var r=t.parentNode,u=r.childTags||r.children,i=0,o=u.length;i<o;i++)if(u[i]===t)return e.unshift("> "+n+":nth-child("+(i+1)+")"),!0;return!1}function m(t,e,n,r){if(!e)return!0;var u=t||r;return!!u&&u(e,n||e,r)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var b={attribute:function(t){return["style","data-reactid","data-react-checksum"].indexOf(t)>-1}};t.exports=e.default},function(t,e,n){(function(t){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function u(t){var e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return Array.isArray(t)?o(t,e):i(t,e)}function i(e,n){if(3===e.nodeType)return i(e.parentNode);if(1!==e.nodeType)throw new Error('Invalid input - only HTMLElements or representations of them are supported! (not "'+("undefined"==typeof e?"undefined":a(e))+'")');var r=(0,c.default)(e,n),u=(0,s.default)(e,n),o=(0,p.default)(u,e,n);return r&&delete t.document,o}function o(t,e){for(var n=null,r=null,u=null,o=null,a=0,f=t.length;a<f;a++){var c=t[a];if(n){if(n!==c.parentNode)return console.log("Can't be efficiently mapped. It probably best to use multiple single selectors instead!")}else n=c.parentNode,r=c.className,o=c.tagName;if(c.className!==r){var l,s,d=[];c.className.length>r.length?(l=c.className,s=r):(l=r,s=c.className),s.split(" ").forEach(function(t){l.indexOf(t)>-1&&d.push(t)}),r=d.join(" ")}c.tagName!==o&&(o=null)}var p=i(n,e);return console.log(p,r,u,o),r?p+" > ."+r.replace(/ /g,"."):o?p+" > "+o.toLowerCase():p+" > *"}Object.defineProperty(e,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};e.default=u,e.getSingleSelector=i,e.getMultiSelector=o;var f=n(1),c=r(f),l=n(3),s=r(l),d=n(2),p=r(d)}).call(e,function(){return this}())}])});
//# sourceMappingURL=optimal-select.min.js.map